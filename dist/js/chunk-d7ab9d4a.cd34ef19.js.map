{"version":3,"sources":["webpack:///./src/views/tagMusicDet.vue","webpack:///./src/views/tagMusicDet.vue?9b5e","webpack:///./src/components/playList.vue","webpack:///./src/hooks/useChangeMusic.js","webpack:///./src/hooks/useMusicListDetail.js","webpack:///./src/components/playList.vue?2404","webpack:///./src/views/tagMusicDet.vue?2116","webpack:///./src/components/playList.vue?49b0"],"names":["class","$router","go","components","playList","setup","musicplay","router","tempList","console","log","currentRoute","value","query","type","then","res","data","i","length","updata","trackIds","val","List","__exports__","render","id","aria-hidden","xlink:href","style","moreList","msg","detail","subscribedCount","formatNum","item","index","useChangeMusic","name","ar","nitem","nindex","alia","al","picUrl","useMusicListDetail","watch","v1","v2","mapLi","getMusicDetail","songs","deep","props"],"mappings":"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","file":"js/chunk-d7ab9d4a.cd34ef19.js","sourcesContent":["<template>\r\n  <div class=\"newmusic\">\r\n    <div class=\"newmusictop\">\r\n      <div class=\"bg\"></div>\r\n      <div class=\"return\" @click=\"$router.go(-1)\">\r\n        <strong>&nbsp; ＜ &nbsp; </strong>\r\n      </div>\r\n      <div class=\"title\">新歌榜</div>\r\n    </div>\r\n\r\n    <playList></playList>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport playList from \"../components/playList.vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { onMounted } from \"vue\";\r\nimport { gettopsong } from \"../api/index.js\";\r\nimport { inject } from \"vue\";\r\n\r\nexport default {\r\n  components: {\r\n    playList,\r\n  },\r\n  setup() {\r\n    const musicplay = inject(\"musicplay\");\r\n    const router = useRouter();\r\n    let tempList = [];\r\n    onMounted(async () => {\r\n      console.log(router.currentRoute.value.query.type);\r\n      await gettopsong(router.currentRoute.value.query.type).then((res) => {\r\n        console.log(res.data);\r\n        for (let i = 0; i < res.data.data.length; i++) {\r\n          tempList[i] = res.data.data[i];\r\n        }\r\n        console.log(tempList);\r\n        musicplay.updata(\"List\", { trackIds: tempList });\r\n        console.log(musicplay.val.List);\r\n      });\r\n    });\r\n    return { router, musicplay, tempList };\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"less\" scoped>\r\n* {\r\n  margin: 0 auto;\r\n}\r\n.newmusic {\r\n  width: 7.5rem;\r\n  height: auto;\r\n  .newmusictop {\r\n    width: 100%;\r\n    height: 1.5rem;\r\n    position: relative;\r\n    .bg {\r\n      width: 100%;\r\n      height: 150%;\r\n      background: crimson;\r\n      z-index: -1;\r\n      position: absolute;\r\n    }\r\n    .return {\r\n      color: white;\r\n      position: absolute;\r\n      top: 0.5rem;\r\n      left: 0.3rem;\r\n    }\r\n    .title {\r\n      color: white;\r\n      font-size: 0.5rem;\r\n      position: absolute;\r\n      top: 0.5rem;\r\n      left: 1rem;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./tagMusicDet.vue?vue&type=template&id=5cbf09f9&scoped=true\"\nimport script from \"./tagMusicDet.vue?vue&type=script&lang=js\"\nexport * from \"./tagMusicDet.vue?vue&type=script&lang=js\"\n\nimport \"./tagMusicDet.vue?vue&type=style&index=0&id=5cbf09f9&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\Learningmaterials\\\\vue3.0_demo\\\\wyymusicapp-1\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5cbf09f9\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"playlist\" id=\"plist\">\r\n    <div class=\"playlist_nav\" id=\"pltop\">\r\n      <div class=\"nav_left\">\r\n        <svg class=\"icon\" aria-hidden=\"true\">\r\n          <use xlink:href=\"#icon-yinle\"></use>\r\n        </svg>\r\n        <div class=\"tips\">\r\n          播放全部\r\n          <span>（共{{moreList?.List.length }}首）</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"nav_right\" v-if=\"msg?.detail.subscribedCount\">+ 收藏 （\r\n        {{ msg?.detail.subscribedCount?formatNum(msg.detail.subscribedCount):0 }}\r\n        ）</div>\r\n    </div>\r\n    <div class=\"playlist_content\">\r\n      <div\r\n        class=\"list_block\"\r\n        v-for=\"(item, index) in moreList?.List\"\r\n        @click=\"useChangeMusic(index,musicplay)\"\r\n      >\r\n        <div class=\"listblock_left\">\r\n          <div class=\"blockdid\">\r\n            {{ index + 1 }}\r\n          </div>\r\n\r\n          <div class=\"lefttitle\">\r\n            {{ item?.name }}\r\n            <div  style=\"color: red\">\r\n              <span v-for=\"(nitem, nindex) in item?.ar\" style=\"font-size:0.2rem;\">\r\n                {{ nitem.name }} &nbsp;&nbsp; \r\n              </span>\r\n                {{ item?.alia[0]?'-'+item?.alia[0]:\"\" }}\r\n            </div>\r\n            <!-- <div v-if=\"!item?.alia[0]\" style=\"color: red\">\r\n              {{ item?.ar[0].name }}\r\n            </div> -->\r\n          </div>\r\n        </div>\r\n        <div class=\"listblock_right\">\r\n          <svg class=\"icon\" aria-hidden=\"true\">\r\n            <use xlink:href=\"#icon-bofang-copy\"></use>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- <a class=\"totopbotton\" href=\"#\" @click=\"location.href='#pltop'\">\r\n      Top\r\n    </a> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { inject, reactive } from \"vue\";\r\nimport { useChangeMusic } from \"../hooks/useChangeMusic\"\r\nimport { useMusicListDetail } from \"../hooks/useMusicListDetail\"\r\nimport formatNum from  '../tools/formatNum.js';\r\nexport default {\r\n  props: [\"msg\"],\r\n  setup() {\r\n    const musicplay = inject(\"musicplay\");\r\n    let moreList = reactive({ List: [],\r\n    });\r\n    useMusicListDetail(musicplay,moreList)\r\n    \r\n\r\n    return {\r\n      musicplay,\r\n      moreList,\r\n      useChangeMusic,\r\n      useMusicListDetail,\r\n      formatNum,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.playlist {\r\n  width: 7.5rem;\r\n  padding: 0.3rem;\r\n  box-sizing: border-box;\r\n  border-top-left-radius: 0.3rem;\r\n  border-top-right-radius: 0.3rem;\r\n  background: white;\r\n  margin: 0.3rem auto 1rem;\r\n  .playlist_nav {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    height: 0.6rem;\r\n    align-items: center;\r\n    .nav_left {\r\n      display: flex;\r\n      align-items: center;\r\n      .icon {\r\n        width: 0.5rem;\r\n        height: 0.5rem;\r\n        margin-right: 0.2rem;\r\n      }\r\n      .tips {\r\n        font-size: 0.3rem;\r\n        span {\r\n          font-size: 0.2rem;\r\n        }\r\n      }\r\n    }\r\n    .nav_right {\r\n      font-size: 0.2rem;\r\n      background: crimson;\r\n      border-radius: 0.5rem;\r\n      color: white;\r\n      width: 2.4rem;\r\n      height: 0.8rem;\r\n      text-align: center;\r\n      line-height: 0.8rem;\r\n    }\r\n  }\r\n  .playlist_content {\r\n    margin-top: 0.3rem;\r\n    .list_block {\r\n      font-size: 0.3rem;\r\n      height: 1rem;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      margin-bottom: 0.2rem;\r\n      .listblock_left {\r\n        display: flex;\r\n        align-items: center;\r\n        font-size: 0.35rem;\r\n        .blockdid {\r\n          text-align: center;\r\n          width: 0.5rem;\r\n        }\r\n        .lefttitle {\r\n          margin-left: 0.4rem;\r\n          font-size: 0.3rem;          \r\n          white-space: normal;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          display: -webkit-box;\r\n          -webkit-line-clamp: 3;\r\n          -webkit-box-orient: vertical;\r\n          word-break: break-all;\r\n\r\n          div {\r\n            margin-top: 0.1rem;\r\n            font-size: 0.12rem;\r\n          }\r\n        }\r\n      }\r\n      .listblock_right {\r\n        .icon {\r\n          width: 0.5rem;\r\n          height: 0.5rem;\r\n          margin: 0 0.2rem;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .totopbotton{\r\n    width: 1rem;\r\n    height: 1rem;\r\n    text-align: center;\r\n    line-height: 1rem;\r\n    display: block;\r\n    background:crimson;\r\n    border-radius: 50%;\r\n    position: fixed;\r\n    right: 0.6rem;\r\n    font-size: 0.25rem;\r\n    color: white;\r\n    top: 70%;\r\n    text-decoration: none;\r\n  }\r\n}\r\n</style>","export function useChangeMusic(index,musicplay) {\r\n    //修改底部播放器组件的名称，地址，头像等信息\r\n    console.log(musicplay)\r\n    musicplay.updata(\"index\", index);\r\n    musicplay.updata(\"id\",musicplay.val.List[index].id)\r\n    musicplay.updata(\"uname\", musicplay.val.List[index].name);\r\n    musicplay.updata(\"imgurl\", musicplay.val.List[index].al.picUrl);\r\n  }","import { getMusicDetail } from \"../api/index.js\";\r\nimport { watch } from \"vue\";\r\nexport function useMusicListDetail(musicplay,moreList){\r\n    //获取播放列表详情\r\n    watch(\r\n        () => musicplay,\r\n        (v1, v2) => {\r\n          let mapLi = musicplay.val;\r\n          for (let i = 0; i < mapLi.List.trackIds?.length; i++) {\r\n             getMusicDetail(mapLi.List.trackIds[i].id).then((res) => {\r\n              // console.log('rr',res.data)\r\n              moreList.List[i] = res.data.songs[0];\r\n            });\r\n          }\r\n          musicplay.updata(\"List\",moreList.List)\r\n          // console.log('new',musicplay)\r\n        },\r\n        {\r\n          deep: true, // 深度监听的参数\r\n        }\r\n      );\r\n}","import { render } from \"./playList.vue?vue&type=template&id=500f2da5&scoped=true\"\nimport script from \"./playList.vue?vue&type=script&lang=js\"\nexport * from \"./playList.vue?vue&type=script&lang=js\"\n\nimport \"./playList.vue?vue&type=style&index=0&id=500f2da5&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\Learningmaterials\\\\vue3.0_demo\\\\wyymusicapp-1\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-500f2da5\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./tagMusicDet.vue?vue&type=style&index=0&id=5cbf09f9&lang=less&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./playList.vue?vue&type=style&index=0&id=500f2da5&lang=less&scoped=true\""],"sourceRoot":""}